{% extends 'home/base.html' %}

{% block title %}New Post - Blogger{% endblock %}

{% block content %}
<div class="container">
    <div class="form-container">

        <div class="form-header">
            <h1>
                <i class="fas fa-pen"></i>
                Create a New Post
            </h1>
        </div>



        <!-- IMPORTANT: enctype is REQUIRED -->
        <form method="post" enctype="multipart/form-data" class="post-form">
            {% csrf_token %}

            <!-- Title -->
            <div class="form-group">
                <label for="{{ form.title.id_for_label }}">
                    <i class="fas fa-heading"></i>
                    {{ form.title.label }}
                </label>
                {{ form.title }}
                {% if form.title.errors %}
                <div class="form-error">{{ form.title.errors }}</div>
                {% endif %}
            </div>

            <!-- Content -->
            <div class="form-group">
                <label for="{{ form.content.id_for_label }}">
                    <i class="fas fa-align-left"></i>
                    {{ form.content.label }}
                </label>
                {{ form.content }}
                {% if form.content.errors %}
                <div class="form-error">{{ form.content.errors }}</div>
                {% endif %}
            </div>

            <!-- Image Upload -->
            <div class="form-group">
                <label for="{{ form.poster.id_for_label }}">
                    <i class="fas fa-image"></i>
                    {{ form.poster.label }}
                </label>
                {{ form.poster }}
                {% if form.poster.errors %}
                <div class="form-error">{{ form.poster.errors }}</div>
                {% endif %}
            </div>

            <!-- Publish -->
            <div class="form-group checkbox-group">
                {{ form.is_published }}
                <label for="{{ form.is_published.id_for_label }}">
                    {{ form.is_published.label }}
                </label>
                {% if form.is_published.errors %}
                <div class="form-error">{{ form.is_published.errors }}</div>
                {% endif %}
            </div>

            <!-- Actions -->
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-paper-plane"></i>
                    Publish
                </button>

                <a href="{% url 'posts:post_list' %}" class="btn btn-secondary">
                    <i class="fas fa-times"></i>
                    Cancel
                </a>
            </div>

        </form>
    </div>
</div>
{% endblock %}
